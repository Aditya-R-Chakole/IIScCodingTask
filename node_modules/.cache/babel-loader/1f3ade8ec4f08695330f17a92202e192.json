{"ast":null,"code":"import _slicedToArray from \"F:\\\\IISc-CiSTUP-2022-Summer-Internship\\\\coding-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\IISc-CiSTUP-2022-Summer-Internship\\\\coding-task\\\\src\\\\components\\\\EnumeratorMonitoring.js\";\nimport { useEffect, useState } from \"react\";\nimport React from 'react';\nimport './EnumeratorMonitoring.css';\n\nfunction EnumeratorMonitoring() {\n  var _this = this;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(\"2022-04-03\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  var URL = \"https://oshr.cistup.iisc.ac.in:443/enumstatus\";\n  var headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n  var requestOptions = {\n    method: 'POST',\n    headers: headers,\n    body: JSON.stringify({\n      \"input_date\": date\n    }),\n    redirect: 'follow'\n  };\n\n  var logOut = function logOut() {\n    localStorage.removeItem('user');\n    window.location.reload(false);\n  };\n\n  var handleSubmit = function handleSubmit() {\n    fetch(URL, requestOptions).then(function (response) {\n      return response.json();\n    }).then(function (result) {\n      setData(result['data']);\n      console.log(result['data']);\n    }).catch(function (error) {\n      return alert(error);\n    });\n  };\n\n  useEffect(function () {\n    fetch(URL, requestOptions).then(function (response) {\n      return response.json();\n    }).then(function (result) {\n      setData(result['data']);\n      console.log(result['data']);\n    }).catch(function (error) {\n      return alert(error);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Enumerator Monitoring\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pageBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"This Page displays Enumerator data, fetched from IISc API for a below given date.\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"date\",\n    defaultValue: date,\n    onChange: function onChange(e) {\n      setDate(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, Object.keys(data).length !== 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-striped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \"Enumerator Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"Enumerator Org\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, \"First Page Time\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, \"SP4 Time\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, \"Last Page Time\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"Last Page accessed\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Ward No.\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Location Code\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, data.map(function (info) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, info.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, info.enumerator_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }, info.enumerator_org), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, info.page_1_timestamp), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }, info.sp_page_4_time), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 37\n      }\n    }, info.last_page_time), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }\n    }, info.last_page), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 37\n      }\n    }, info.ward_no), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, info.location_code));\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 12\n    }\n  })));\n}\n\nexport default EnumeratorMonitoring;","map":{"version":3,"sources":["F:/IISc-CiSTUP-2022-Summer-Internship/coding-task/src/components/EnumeratorMonitoring.js"],"names":["useEffect","useState","React","EnumeratorMonitoring","data","setData","date","setDate","URL","headers","Headers","append","requestOptions","method","body","JSON","stringify","redirect","logOut","localStorage","removeItem","window","location","reload","handleSubmit","fetch","then","response","json","result","console","log","catch","error","alert","e","target","value","Object","keys","length","map","info","id","enumerator_name","enumerator_org","page_1_timestamp","sp_page_4_time","last_page_time","last_page","ward_no","location_code"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport React from 'react';\r\n\r\nimport './EnumeratorMonitoring.css'\r\n\r\nfunction EnumeratorMonitoring() {\r\n  const [data, setData] = useState({});\r\n  const [date, setDate] = useState(\"2022-04-03\");\r\n  \r\n  const URL = \"https://oshr.cistup.iisc.ac.in:443/enumstatus\"\r\n  var headers = new Headers();\r\n  headers.append(\"Content-Type\", \"application/json\");\r\n  var requestOptions = {\r\n    method: 'POST',\r\n    headers: headers,\r\n    body: JSON.stringify({\"input_date\" : date}),\r\n    redirect: 'follow'\r\n  };\r\n\r\n  const logOut = () => {\r\n    localStorage.removeItem('user');\r\n    window.location.reload(false);\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n      fetch(URL, requestOptions)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n            setData(result['data'])\r\n            console.log(result['data'])\r\n        })\r\n        .catch(error => alert(error));\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetch(URL, requestOptions)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n            setData(result['data'])\r\n            console.log(result['data'])\r\n        })\r\n        .catch(error => alert(error));\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <div className=\"container-left\">\r\n        <div className=\"pageTitle\">\r\n          Enumerator Monitoring\r\n        </div>\r\n        <div className=\"pageBody\">\r\n          This Page displays Enumerator data, fetched from IISc API for a below given date.\r\n        </div>\r\n        <input type=\"date\" id=\"date\" defaultValue={date} onChange={(e)=>{setDate(e.target.value)}} />\r\n        <input type=\"submit\" onClick={handleSubmit}/>\r\n      </div>\r\n      <div className=\"container-right\">\r\n        {Object.keys(data).length!==0 ? (\r\n            <div>\r\n                <table class=\"table table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                        <th>ID</th>\r\n                        <th>Enumerator Name</th>\r\n                        <th>Enumerator Org</th>\r\n                        <th>First Page Time</th>\r\n                        <th>SP4 Time</th>\r\n                        <th>Last Page Time</th>\r\n                        <th>Last Page accessed</th>\r\n                        <th>Ward No.</th>\r\n                        <th>Location Code</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.map((info)=>{\r\n                            return (\r\n                                <tr>\r\n                                    <td>{info.id}</td>\r\n                                    <td>{info.enumerator_name}</td>\r\n                                    <td>{info.enumerator_org}</td>\r\n                                    <td>{info.page_1_timestamp}</td>\r\n                                    <td>{info.sp_page_4_time}</td>\r\n                                    <td>{info.last_page_time}</td>\r\n                                    <td>{info.last_page}</td>\r\n                                    <td>{info.ward_no}</td>\r\n                                    <td>{info.location_code}</td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        ):(<div></div>)}\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EnumeratorMonitoring;\r\n"]},"metadata":{},"sourceType":"module"}